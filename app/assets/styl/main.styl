// Imports
@import url('http://fonts.googleapis.com/css?family=Pacifico|Roboto:300,400,700')

// Web fonts
@font-face
	src: url('/static/font/baba-icons.svg') format('svg')
	font-family: baba-icons
	font-style: normal
	font-weight: normal

// Design settings
$font-logo = Pacifico, sans-serif
$font-main = Roboto, sans-serif
$font-icon = baba-icons
$color-foreground = #2e281f
$site-width = 70em
$header-height = 3.5em
$gutter = 2em

$color-accent = #d32
$color-red = #d32
$color-yellow = #e92
$color-green = #7a3

// CSS reset
global-reset()

// Icons
i.icon
	font: normal 1em $font-icon
	&.icon-edit
		&::before
			content: '\e800'
	&.icon-add
		&::before
			content: '\e802'
	&.icon-delete
		&::before
			content: '\e804'
	&.icon-sort-ascending
		&::before
			content: '\e808'
	&.icon-sort-descending
		&::before
			content: '\e809'

// Main elements
p
	margin: ($gutter / 2) 0

strong
	font-weight: 700

a
	color: $color-accent
	transition: all .2s ease
	&:hover
		color: lighten($color-accent, 15)

// Form elements
input
	font: 300 1em/1.5 $font-main
	box-sizing: border-box
	margin: 0
	padding: 0 ($gutter / 4)

// Layout
html, body
	font: 300 100%/1.5 $font-main
	color: $color-foreground
	background: url('/static/img/background.png')

header, #contents, footer
	max-width: $site-width
	margin: 0 auto
	padding: 0 $gutter

header, #contents
	box-shadow: 0 10px 40px rgba($color-foreground, .1)

header
	display: flex
	align-items: center
	background: $color-foreground
	color: #fff
	height: $header-height
	h1
		flex: 1 1 auto
		font: 1.5em $font-logo
		text-transform: lowercase
		color: #fff
	.slogan
		flex: 0 1 auto
		color: lighten($color-foreground, 50)
		font: 1em $font-logo
		text-transform: lowercase

#contents
	background: #fff
	padding-top: $gutter
	padding-bottom: $gutter
	section
		margin: $gutter 0
		&:first-child
			margin-top: 0
		&:last-child
			margin-bottom: 0

footer
	text-align: center
	color: lighten($color-foreground, 50)
	text-shadow: 0 1px #fff
	a
		color: lighten($color-foreground, 50)
		&:hover
			color: lighten($color-foreground, 20)

// Builder styles
$builder-gutter = 5px
.builder
	cursor: default
	background: url('/static/img/background.png')
	box-shadow: inset 0 1px 2px rgba(#000, .1)
	display: flex
	padding: $builder-gutter 0 0 $builder-gutter
	line-height: 1.5em
	text-shadow: 0 1px 0 rgba(#fff, .7)
	user-select: none
	ul,
	ol,
	li,
	div
		display: flex
		flex: 0 1 auto
	& > ul,
	& > ol,
	& > li,
	& > div
		margin: 0 $builder-gutter $builder-gutter 0
	li
		display: flex
		flex: 0 1 auto
	& > li
		.actions
			overflow: hidden
			width: 0
			li
				cursor: pointer
				border-left: 1px solid #ddd
				padding: 0 ($gutter / 4)
				&:hover
					background: $color-foreground
					color: #fff
					text-shadow: 0 1px 1px rgba(#000, .5)
		&:hover
			padding-right: 0
			.actions
				width: auto
				.delete:hover
					background: $color-red
	.icon::before
		line-height: @line-height
		font-size: .6em
	.buttons
		flex: 1 1 auto
		.add
			box-shadow: 0 1px 2px rgba(#000, .1)
			cursor: pointer
			padding: 0 ($gutter / 4)
			position: relative
			background: rgba($color-foreground, .7)
			color: #fff
			text-shadow: 0 1px 1px #000
			text-align: center
			&:hover
				background: $color-foreground
				#dropdown
					display: block
	#dropdown
		position: absolute
		display: none
		top: 0
		right: 0
		width: 10em
		right: -@width
		background: #fff
		text-align: left
		text-shadow: 0 1px 0 #fff
		color: $color-foreground
		box-shadow: 0 5px 5px rgba(#000, .1), 0 1px 1px rgba(#000, .3)
		font-weight: 400
		li
			padding: 0 ($gutter / 4)
			display: block
			&:hover
				background: $color-foreground
				color: #fff
				text-shadow: 0 1px 0 #000
	.actions
		.ascending,
		.descending,
		.preview label
			box-shadow: 0 1px 1px rgba(#000, .2)
			cursor: pointer
			padding: 0 ($gutter / 4)
			position: relative
			background: rgba($color-foreground, .5)
			color: #fff
			text-shadow: 0 1px 1px #000
			text-align: center
			margin: 0 0 0 $builder-gutter
			i::before
				font-size: .9em
			&:hover
				background: $color-foreground
		.preview input
			display: none
			&:checked + label
				background: $color-green
				&:hover
					background: darken($color-green, 10)

// Word list
.builder-wordlist
	li.word
		box-shadow: 0 1px 2px rgba(#000, .1)
		background: #fff
		span.word
			padding: 0 ($gutter / 4)
	li.add-textfield
		input
			border: 0
			background: transparent
			border-bottom: 1px dotted rgba(#000, .3)
			transition: width .2s
			&::-webkit-input-placeholder
				color: rgba(#000, .3)
				text-shadow: 0 1px 0 rgba(#fff, 1)

// Sentence builder
.builder-sentence
	li.placeholder
		box-shadow: 0 1px 2px rgba(#000, .1)
		background: #fff
		.prefix
			color: lighten($color-foreground, 40)
			li
				border-right: 1px solid #ddd
				padding: 0 ($gutter / 4)
		.word
			.class, .group
				text-transform: uppercase
				font-size: .6em
				padding: 0 ($gutter / 4)
			.class
				font-weight: 700
				background: #eea
			.group
				font-weight: 400
				margin-right: ($gutter / 4)
		.postfix
			color: lighten($color-foreground, 40)
			li
				border-left: 1px solid #ddd
				padding: 0 ($gutter / 4)
